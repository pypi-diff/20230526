# Comparing `tmp/odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6-py3-none-any.whl.zip` & `tmp/odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,35 +1,35 @@
-Zip file size: 401416 bytes, number of entries: 33
--rw-r--r--  2.0 unx     5990 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/README.rst
--rw-r--r--  2.0 unx       91 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/__init__.py
--rw-r--r--  2.0 unx      890 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/__manifest__.py
--rw-r--r--  2.0 unx    34136 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/i18n/it.po
--rw-r--r--  2.0 unx    30755 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/i18n/l10n_it_withholding_tax.pot
--rw-r--r--  2.0 unx      843 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/noupdate_changes.xml
--rw-r--r--  2.0 unx      818 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/post-migration.py
--rw-r--r--  2.0 unx      372 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/pre-migration.py
--rw-r--r--  2.0 unx      123 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/models/__init__.py
--rw-r--r--  2.0 unx    22853 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/models/account.py
--rw-r--r--  2.0 unx    19360 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/models/withholding_tax.py
--rw-r--r--  2.0 unx      155 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      292 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     2551 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/readme/USAGE.rst
--rw-r--r--  2.0 unx     1359 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/security/ir.model.access.csv
--rw-r--r--  2.0 unx     1232 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/security/security.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/description/icon.png
--rw-r--r--  2.0 unx    15731 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/description/index.html
--rw-r--r--  2.0 unx   167709 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/img/fattura-fornitore-768x517.png
--rw-r--r--  2.0 unx    71134 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/img/foto-3-1-1024x505.png
--rw-r--r--  2.0 unx    36796 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/img/pagamento-fattura-fornitore.png
--rw-r--r--  2.0 unx    23368 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/img/pagamento-ritenuta.png
--rw-r--r--  2.0 unx   100918 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/img/ritenuta-acconto-odoo-codifica-768x457.png
--rw-r--r--  2.0 unx      603 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/static/src/xml/account_payment.xml
--rw-r--r--  2.0 unx       35 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/tests/__init__.py
--rw-r--r--  2.0 unx    11076 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/tests/test_withholding_tax.py
--rw-r--r--  2.0 unx     8035 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/views/account.xml
--rw-r--r--  2.0 unx     3085 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/views/report_invoice.xml
--rw-r--r--  2.0 unx    17974 b- defN 23-Apr-29 04:43 odoo/addons/l10n_it_withholding_tax/views/withholding_tax.xml
--rw-r--r--  2.0 unx     6648 b- defN 23-Apr-29 04:46 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-29 04:46 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Apr-29 04:46 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3921 b- defN 23-Apr-29 04:46 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/RECORD
-33 files, 598405 bytes uncompressed, 394692 bytes compressed:  34.0%
+Zip file size: 401506 bytes, number of entries: 33
+-rw-r--r--  2.0 unx     5990 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/README.rst
+-rw-r--r--  2.0 unx       91 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/__init__.py
+-rw-r--r--  2.0 unx      890 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/__manifest__.py
+-rw-r--r--  2.0 unx    34136 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/i18n/it.po
+-rw-r--r--  2.0 unx    30755 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/i18n/l10n_it_withholding_tax.pot
+-rw-r--r--  2.0 unx      843 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/noupdate_changes.xml
+-rw-r--r--  2.0 unx      818 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/post-migration.py
+-rw-r--r--  2.0 unx      372 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/pre-migration.py
+-rw-r--r--  2.0 unx      123 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/models/__init__.py
+-rw-r--r--  2.0 unx    23529 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/models/account.py
+-rw-r--r--  2.0 unx    19360 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/models/withholding_tax.py
+-rw-r--r--  2.0 unx      155 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      292 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     2551 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1359 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     1232 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/security/security.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/description/icon.png
+-rw-r--r--  2.0 unx    15731 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/description/index.html
+-rw-r--r--  2.0 unx   167709 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/img/fattura-fornitore-768x517.png
+-rw-r--r--  2.0 unx    71134 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/img/foto-3-1-1024x505.png
+-rw-r--r--  2.0 unx    36796 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/img/pagamento-fattura-fornitore.png
+-rw-r--r--  2.0 unx    23368 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/img/pagamento-ritenuta.png
+-rw-r--r--  2.0 unx   100918 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/img/ritenuta-acconto-odoo-codifica-768x457.png
+-rw-r--r--  2.0 unx      603 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/static/src/xml/account_payment.xml
+-rw-r--r--  2.0 unx       35 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/tests/__init__.py
+-rw-r--r--  2.0 unx    11076 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/tests/test_withholding_tax.py
+-rw-r--r--  2.0 unx     8035 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/views/account.xml
+-rw-r--r--  2.0 unx     3085 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/views/report_invoice.xml
+-rw-r--r--  2.0 unx    17974 b- defN 23-May-26 10:41 odoo/addons/l10n_it_withholding_tax/views/withholding_tax.xml
+-rw-r--r--  2.0 unx     6643 b- defN 23-May-26 10:41 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-26 10:41 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-26 10:41 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3901 b- defN 23-May-26 10:41 odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/RECORD
+33 files, 599056 bytes uncompressed, 394822 bytes compressed:  34.1%
```

## zipnote {}

```diff
@@ -81,20 +81,20 @@
 
 Filename: odoo/addons/l10n_it_withholding_tax/views/report_invoice.xml
 Comment: 
 
 Filename: odoo/addons/l10n_it_withholding_tax/views/withholding_tax.xml
 Comment: 
 
-Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/METADATA
+Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/WHEEL
+Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/top_level.txt
+Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/RECORD
+Filename: odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/l10n_it_withholding_tax/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2015 Alessandro Camilli (<http://www.openforce.it>)
 # Copyright 2018 Lorenzo Battistini (https://github.com/eLBati)
 # Copyright 2019 Giovanni - GSLabIt
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 
 {
     "name": "ITA - Ritenute d'acconto",
-    "version": "14.0.1.1.3",
+    "version": "14.0.1.1.5",
     "category": "Account",
     "author": "Openforce, Odoo Italia Network, " "Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/l10n-italy",
     "license": "AGPL-3",
     "depends": [
         "account",
         "l10n_it_fatturapa",
```

## odoo/addons/l10n_it_withholding_tax/models/account.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2015 Alessandro Camilli (<http://www.openforce.it>)
 # Copyright 2018 Lorenzo Battistini - Agile Business Group
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 
 from odoo import _, api, fields, models
 from odoo.exceptions import ValidationError
-from odoo.tools.float_utils import float_compare, float_round
+from odoo.tools.float_utils import float_compare, float_is_zero, float_round
 
 
 class AccountFullReconcile(models.Model):
     _inherit = "account.full.reconcile"
 
     def _get_wt_moves(self):
         moves = self.mapped("reconciled_line_ids.move_id")
@@ -496,14 +496,31 @@
             move_line = self.env["account.move.line"].browse(payment_val["payment_id"])
             if move_line.withholding_tax_generated_by_move_id:
                 payment_val["wt_move_line"] = True
             else:
                 payment_val["wt_move_line"] = False
         return payment_vals
 
+    def action_register_payment(self):
+        """
+        Set net to pay how default amount to pay
+        """
+        dp_obj = self.env["decimal.precision"]
+        res = super().action_register_payment()
+        amount_net_pay_residual = 0
+        for am in self:
+            if am.withholding_tax_amount:
+                amount_net_pay_residual += am.amount_net_pay_residual
+        if not float_is_zero(amount_net_pay_residual, dp_obj.precision_get("Account")):
+            ctx = res.get("context", {})
+            if ctx:
+                ctx.update({"default_amount": amount_net_pay_residual})
+            res.update({"context": ctx})
+        return res
+
 
 class AccountMoveLine(models.Model):
     _inherit = "account.move.line"
 
     withholding_tax_id = fields.Many2one("withholding.tax", string="Withholding Tax")
     withholding_tax_base = fields.Float(string="Withholding Tax Base")
     withholding_tax_amount = fields.Float(string="Withholding Tax Amount")
```

## Comparing `odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/METADATA` & `odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-l10n-it-withholding-tax
-Version: 14.0.1.1.4.dev6
+Version: 14.0.1.1.5
 Summary: ITA - Ritenute d'acconto
 Home-page: https://github.com/OCA/l10n-italy
 Author: Openforce, Odoo Italia Network, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/RECORD` & `odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 odoo/addons/l10n_it_withholding_tax/README.rst,sha256=MRlwvWskfjHBUe1qalttmxrmP1gQ8Kd74tjin1EV3YM,5990
 odoo/addons/l10n_it_withholding_tax/__init__.py,sha256=IBgwvNUGoCAcfsMI2COb9DgacxjuqrwrZfXMaO8weI8,91
-odoo/addons/l10n_it_withholding_tax/__manifest__.py,sha256=KPgBLq_EzXHdfkwtuT4EKZwT5oE8f1StDj4C38Ih9dY,890
+odoo/addons/l10n_it_withholding_tax/__manifest__.py,sha256=1iWtNJ-hbxivvt9XWB9crDlj8zDjhdUaFpVjywRjW5A,890
 odoo/addons/l10n_it_withholding_tax/i18n/it.po,sha256=k8pWzbtaabcNnhmOBZ6T2RJ6uiljbTI6Hmu_yyj4_PQ,34136
 odoo/addons/l10n_it_withholding_tax/i18n/l10n_it_withholding_tax.pot,sha256=eMTq90ytrKZWnzl7J8GQpTnjpk2peg1hco5ojMffiwI,30755
 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/noupdate_changes.xml,sha256=zVY_8rPZD4TBrVU9nl2N2qihyuC1dK8TBpHc8VZgPQQ,843
 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/post-migration.py,sha256=w31eyGS3f6I5mpqSKbSmnh-C5JDk5Plwg3dheWwRUV8,818
 odoo/addons/l10n_it_withholding_tax/migrations/13.0.1.0.0/pre-migration.py,sha256=CMQnnDZXPq__cP6Rj11jJPsGYTOuCxxtpg4Ag5roRLY,372
 odoo/addons/l10n_it_withholding_tax/models/__init__.py,sha256=dJDxDhL4htFKB9RfJ9y_prfvkEFxfuT6jtJ_OzlF51I,123
-odoo/addons/l10n_it_withholding_tax/models/account.py,sha256=3Iz_YkOO3h4C2iHBfpRnqGUC6cuqcFz1QTbbR7POnNk,22853
+odoo/addons/l10n_it_withholding_tax/models/account.py,sha256=aZ_kpbHxq6WuFzmhK1YFc6-yhaGc9r7dS4_yDTRNnGg,23529
 odoo/addons/l10n_it_withholding_tax/models/withholding_tax.py,sha256=rosoNZtT0Vukgg-vDr2jY09YJPPmRqyuQJ1ZefUVejM,19360
 odoo/addons/l10n_it_withholding_tax/readme/CONTRIBUTORS.rst,sha256=rrbUTjFUYArkzTTWJ3eVjtnhDJ7N7iks-lAC3zOH-SY,155
 odoo/addons/l10n_it_withholding_tax/readme/DESCRIPTION.rst,sha256=GSb-VdXp1fkev3YS7VZFsj30VoQoYjNS7eARm-hJI70,292
 odoo/addons/l10n_it_withholding_tax/readme/USAGE.rst,sha256=6OJ8jGgJ3Pv9BaZbuohn6wqGpi9cjipmdee3SZDxrII,2551
 odoo/addons/l10n_it_withholding_tax/security/ir.model.access.csv,sha256=f58IL3b-c5DSksZwX_9eupn_lUhoDGVJ5jkQEQ_R4s8,1359
 odoo/addons/l10n_it_withholding_tax/security/security.xml,sha256=cBzvzobgEhcddNbchtV4CM0mG1aLLynDqmFccHxrmOI,1232
 odoo/addons/l10n_it_withholding_tax/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
@@ -23,11 +23,11 @@
 odoo/addons/l10n_it_withholding_tax/static/img/ritenuta-acconto-odoo-codifica-768x457.png,sha256=KwWljtZY0pQsPPmh8-MlnYyU0WQ9VGzslE71bJeOouo,100918
 odoo/addons/l10n_it_withholding_tax/static/src/xml/account_payment.xml,sha256=M09wKSXLVSvi7W8_aqmkHrSXLylo7G_4e8-dvroH4L8,603
 odoo/addons/l10n_it_withholding_tax/tests/__init__.py,sha256=eCkXwSlcH5RK_n1W5-GxZdv84J6FNlh5CdVgIjgJO3c,35
 odoo/addons/l10n_it_withholding_tax/tests/test_withholding_tax.py,sha256=WViqpmjrN8HZmNG0CwL4dA_XKGe0dXJKyMAO0Df2YN8,11076
 odoo/addons/l10n_it_withholding_tax/views/account.xml,sha256=pD7VfZFHBfCcuMebYfojKqQmZV7H1rszG8ZdQkVcas8,8035
 odoo/addons/l10n_it_withholding_tax/views/report_invoice.xml,sha256=VCcf5bFgs3VLJ5grp9bxEn_0yxWDoH7n42EfJfkD8KY,3085
 odoo/addons/l10n_it_withholding_tax/views/withholding_tax.xml,sha256=fecAXNUv7ONZaVeAEKu2-ZOevIaBhmpF8WXeL0hPaA8,17974
-odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/METADATA,sha256=TL00QJ3_gZnqHG_E97XIUJJP0sji5JTsrWcxQLI_zZA,6648
-odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_l10n_it_withholding_tax-14.0.1.1.4.dev6.dist-info/RECORD,,
+odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/METADATA,sha256=kltYbrlZI1DYX3hhNs8kbCzap01cQVV36CUVfRjOdGI,6643
+odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_l10n_it_withholding_tax-14.0.1.1.5.dist-info/RECORD,,
```

